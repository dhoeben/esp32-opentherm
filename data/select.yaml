- platform: template
  name: "Boiler DHW Mode"
  id: dhw_mode_select
  options:
    - "off"
    - "eco"
    - "heat"
  optimistic: true
  restore_value: true
  initial_option: "heat"
  on_value:
    - lambda: |-
        auto ot = opentherm::OpenThermComponent::get_singleton();
        if (ot == nullptr) return;
        std::string m = x;
        if (m == "off") opentherm::DHW::set_mode(ot, opentherm::DHW::Mode::OFF);
        else if (m == "eco") opentherm::DHW::set_mode(ot, opentherm::DHW::Mode::ECO);
        else opentherm::DHW::set_mode(ot, opentherm::DHW::Mode::HEAT);
        ESP_LOGI("dhw", "DHW mode changed to: %s", m.c_str());
